install.packages("mapdata")
library("mapdata")
map("georgia")
map("rivers"", add=TRUE)
""
map("usa")
map("rivers", add=TRUE)
library(ggplot2)
p <- ggplot()
p <- p + geom_polygon( data=c(), aes(x=long, y=lat, group = group),colour="white", fill="grey10" )
states <- subset(all_states, region %in% c( "georgia") )
all_states <- map_data("state")
all_states <- map_data("state")
states <- subset(all_states, region %in% c( "georgia") )
p <- ggplot()
p <- p + geom_polygon( data=states, aes(x=long, y=lat, group = group),colour="white", fill="grey10" )
p
p <- p + geom_polygon( data=map_data("rivers"), aes(x=long, y=lat, group = group),colour="white", fill="grey10" )
p
p <- p + geom_ines( data=map_data("rivers"), aes(x=long, y=lat, group = group),colour="white", fill="grey10" )
p <- p + geom_lines( data=map_data("rivers"), aes(x=long, y=lat, group = group),colour="white", fill="grey10" )
p <- p + geom_line( data=map_data("rivers"), aes(x=long, y=lat, group = group),colour="white", fill="grey10" )
p <- p + geom_line( data=map_data("rivers"), aes(x=long, y=lat, group = group),colour="white")
p
geom_path(data=map_data("rivers"), aes(x = long, y = lat, group = group), color = 'blue')
p = geom_path(data=map_data("rivers"), aes(x = long, y = lat, group = group), color = 'blue')
p
p <- ggplot()
p <- p + geom_polygon( data=states, aes(x=long, y=lat, group = group),colour="white", fill="grey10" )
p <- p + geom_path(data=map_data("rivers"), aes(x = long, y = lat, group = group), color = 'blue')
p
r = map_data("rivers")
r
states
sum(r$region == "georgia")
install.packages("raster")
ne_rivers <- readOGR('eda/data/maps/NaturalEarth/ne_10m_rivers_lake_centerlines.shp',
'ne_10m_rivers_lake_centerlines')
library("raster")
library("rgdal")
library("ggplot2")
library("reshape2")
library("plyr")
install.packages("rgdal")
library("raster")
library("rgdal")
library("ggplot2")
library("reshape2")
library("plyr")
ne_rivers <- readOGR('eda/data/maps/NaturalEarth/ne_10m_rivers_lake_centerlines.shp',
'ne_10m_rivers_lake_centerlines')
library("rgdal")
install.packages("rgdal")
m = map_data('state', region = 'Georgia')
m
plot(m)
m
map_data("river", region = "Georiga")
m2 = map_data("river", region = "Georiga")
map(m)
?map
map
map()
map("rivers")
map("rivers", xlim=c(100,200))
map("rivers", xlim=c(0,100))
map("rivers",
map("rivers")
)
map("rivers")
georgia = map_data("river", region = "Georiga")
georgia = map_data("river", region = "Georiga")
georgia = map_data("states", region = "Georiga")
georgia = map_data("state", region = "Georiga")
georgia = map_data("state", region = "Georiga")
gea = map_data("state", region = "Georiga")
m = map_data('state', region = 'Georgia')
head(m)
long_min = min(m$long)
long_max = max(m$long)
lat_min = min(m$lat)
lat_max = max(m$lat)
long_min
long_max
lat_max
lat_min
riv = map_data("rivers")
head(riv)
riv = riv[riv$long <= long_max & riv$long >= long_min & riv$lat >= lat_max & riv$lat >= lat_min,]
dim(riv)
head(riv)
riv
ggplot() +
geom_point() +
geom_text(aes(label = site), vjust = 2) +
geom_line(data = riv, aes(y = lat))
ggplot() + geom_polygon(data = m, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3)
ggplot() + geom_polygon(data = m, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_path(data=riv)
ggplot() + geom_polygon(data = m, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_path(data=riv, aes(x=long, y=lat, grou=group))
m
lat_max
lat_min
riv
riv = map_data("rivers")
riv = riv[riv$long <= long_max & riv$long >= long_min & riv$lat <= lat_max & riv$lat >= lat_min,]
ggplot() + geom_polygon(data = m, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_path(data=riv, aes(x=long, y=lat, grou=group), col="blue")
ggplot() + geom_polygon(data = m, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_path(data=riv, aes(x=long, y=lat, group=group), col="blue")
table(riv$group)
tail(riv)
table(riv$order)
table(riv$region)
riv = map_data("rivers")
riv = riv[riv$region == 206,]
riv
ggplot() + geom_polygon(data = m, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_path(data=riv, aes(x=long, y=lat, group=group), col="blue")
riv = map_data("rivers",region = 206)
dim(riv)
ggplot() + geom_polygon(data = m, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_path(data=riv, aes(x=long, y=lat, group=group), col="blue")
riv
riv = riv[1:88,]
ggplot() + geom_polygon(data = m, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_path(data=riv, aes(x=long, y=lat, group=group), col="blue")
log2(100)
log2(e)*100/e
log2(e)*100/exp(1)
log2(exp(1))*100/exp(1)
f = function(x){return(n/x*log2(x))}
n=100
ind = c(1:100)
vals = sapply(ind, f)
vals
plot(ind, vals)
library("rvinecopulib")
install.packages("rvinecopulib")
library("rvinecopulib")
setwd("~/Desktop/slope-v2/")
source("Slope.R")
resMain = read.table("results/slope.tab", sep="\t", header=T)
resMain
sig = p.adjust(resMain$P) < 0.001
sum(sig)
resMain[!sig,]
dim(resMain[!sig,])
decision_rate
df = resMain
df = df[with(df, order(-abs(Eps))),]
df
dd = data.frame(P=1:98, E=df$Eps)
dd = data.frame(P=1:98, E=df$Eps[1:98])
df = df[1:98,]
corr = dd[df$Corr=1,]
corr = dd[df$Correct == 1,]
corr
dd = data.frame(P=1:98, E=abs(df$Eps[1:98]))
corr = dd[df$Correct == 1,]
corr
incorr = dd[df$Correct == 0,]
incorr
write.table(incorr, "results/incorr.dat", sep=" ", col.names = F, row.names = F, quote = F)
write.table(corr, "results/corr.dat", sep=" ", col.names = F, row.names = F, quote = F)
sig = p.adjust(df$P) >= 0.001
dd[sig,]
df
newpv = -log(df$P)
newpv = -log10(df$P)
newpv
Inf > 300
newpv[newpv > 300] = 300
newpv
ddd = data.frame(C=abs(df$Eps), E=newpv)
ddd
write.table(ddd, "results/conf_vs_pv.dat", sep=" ", col.names = F, row.names = F, quote = F)
newpv = -log10(p.adjust(df$P))
newpv[newpv > 300] = 300
ddd = data.frame(C=abs(df$Eps), E=newpv)
write.table(ddd, "results/conf_vs_pv.dat", sep=" ", col.names = F, row.names = F, quote = F)
sig = abs(df$Eps) >= 0.00864
sum(sig)
sum(df$Correct[!sig])
length(df$Correct[!sig])
res
resMain
sig = abs(resMain$Eps) < 0.00864
resMain$Cds[sig] = "--"
resMain$Eps[sig] = 0
decision_rate_meta(resMain, uv=uvnd)
uvnd
decision_rate_meta(resMain, uv=uvnd[1:98], oneHalf = F)
resMain
decision_rate_meta(resMain, uv=uv, oneHalf = F)
-log2(0.05)/1000
-log2(0.05)/500
-log2(0.01)/500
sig = abs(resMain$Eps) < 0.01328771
resMain$Cds[sig] = "--"
resMain$Eps[sig] = 0
sum(resMain)
sum(resMain$Cds == "--")
sum(df$Correct[!sig])
sum(resMain$Correct[!sig])
sum(resMain$Correct[sig])
